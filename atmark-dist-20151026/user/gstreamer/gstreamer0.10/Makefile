#
# Makefile for gstreamer0.10-0.10.36
#

SRC_DIR = gstreamer0.10-0.10.36
INSTALL_DIR = install
BUILD_DIR = build
INSTALL_PLUGINDIR = $(INSTALL_DIR)/lib/gstreamer-0.10
INSTALL_PLUGINSCANNERDIR = $(INSTALL_DIR)/libexec/gstreamer-0.10
CROSS_LIBDIR = /usr/$(CROSS_COMPILE:-=)/lib

CONF_BUILD = $(shell $(SRC_DIR)/config.guess)
CONF_HOST = $(shell $(SRC_DIR)/config.sub $(CROSS:-=))

CONFIGURE_OPT =	--disable-nls				\
		--disable-debug				\
		--disable-examples			\
		--disable-tests				\
		--disable-failing-tests			\
		--disable-check				\
		--enable-introspection=no		\
		--prefix=""				\
		--build=$(CONF_BUILD)			\
		--host=$(CONF_HOST)			\
		--cache-file=`pwd`/../$(CONF_BUILD)/config.cache	\
		CC="$(CC)"				\
		CFLAGS="$(CFLAGS)"			\
		LDFLAGS="$(LDFLAGS)"			\
		LIBS="$(LDLIBS)"

TOOLS_y =
TOOLS_$(CONFIG_USER_GSTREAMER_0_10_FEEDBACK)		+= gst-feedback gst-feedback-0.10
TOOLS_$(CONFIG_USER_GSTREAMER_0_10_INSPECT)		+= gst-inspect gst-inspect-0.10
TOOLS_$(CONFIG_USER_GSTREAMER_0_10_LAUNCH)		+= gst-launch gst-launch-0.10
TOOLS_$(CONFIG_USER_GSTREAMER_0_10_TYPEFIND)		+= gst-typefind gst-typefind-0.10
TOOLS_$(CONFIG_USER_GSTREAMER_0_10_XMLINSPECT)	+= gst-xmlinspect gst-xmlinspect-0.10
TOOLS_$(CONFIG_USER_GSTREAMER_0_10_XMLLAUNCH)	+= gst-xmllaunch gst-xmllaunch-0.10

PLUGINS_y = 
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_1394)		+= libgst1394.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AASINK)		+= libgstaasink.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ADDER)		+= libgstadder.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ADPCMDEC)	+= libgstadpcmdec.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ADPCMENC)	+= libgstadpcmenc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AIFF)		+= libgstaiff.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ALAW)		+= libgstalaw.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ALPHA)		+= libgstalpha.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ALPHACOLOR)	+= libgstalphacolor.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ALSA)		+= libgstalsa.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ANNODEX)	+= libgstannodex.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_APETAG)		+= libgstapetag.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_APEXSINK)	+= libgstapexsink.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_APP)		+= libgstapp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ASFMUX)		+= libgstasfmux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ASSRENDER)	+= libgstassrender.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIOCONVERT)	+= libgstaudioconvert.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIOFX)	+= libgstaudiofx.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIOPARSERS)	+= libgstaudioparsers.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIORATE)	+= libgstaudiorate.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIORESAMPLE)	+= libgstaudioresample.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIOTESTSRC)	+= libgstaudiotestsrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUDIOVISUALIZERS)	+= libgstaudiovisualizers.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUPARSE)	+= libgstauparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUTOCONVERT)	+= libgstautoconvert.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AUTODETECT)	+= libgstautodetect.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_AVI)		+= libgstavi.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_BAYER)		+= libgstbayer.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_BZ2)		+= libgstbz2.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CACASINK)	+= libgstcacasink.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CAIRO)		+= libgstcairo.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CAMERABIN)	+= libgstcamerabin.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CAMERABIN2)	+= libgstcamerabin2.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CDAUDIO)	+= libgstcdaudio.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CDPARANOIA)	+= libgstcdparanoia.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CDXAPARSE)	+= libgstcdxaparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_COG)		+= libgstcog.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_COLOREFFECTS)	+= libgstcoloreffects.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_COLORSPACE)	+= libgstcolorspace.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CURL)		+= libgstcurl.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_CUTTER)		+= libgstcutter.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DATAURISRC)	+= libgstdataurisrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DC1394)		+= libgstdc1394.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DCCP)		+= libgstdccp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DEBUG)		+= libgstdebug.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DEBUGUTILSBAD)	+= libgstdebugutilsbad.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DECKLINK)	+= libgstdecklink.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DECODEBIN)	+= libgstdecodebin.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DEINTERLACE)	+= libgstdeinterlace.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DFBVIDEOSINK)	+= libgstdfbvideosink.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DIRAC)		+= libgstdirac.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DTMF)		+= libgstdtmf.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DTSDEC)		+= libgstdtsdec.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DV)		+= libgstdv.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DVB)		+= libgstdvb.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DVBSUBOVERLAY)	+= libgstdvbsuboverlay.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_DVDSPU)		+= libgstdvdspu.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_EFENCE)		+= libgstefence.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_EFFECTV)	+= libgsteffectv.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ENCODING)	+= libgstencodebin.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_EQUALIZER)	+= libgstequalizer.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FAAD)		+= libgstfaad.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FACEOVERLAY)	+= libgstfaceoverlay.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FBDEVSINK)	+= libgstfbdevsink.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FESTIVAL)	+= libgstfestival.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FFMPEGCOLORSPACE)	+= libgstffmpegcolorspace.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FIELDANALYSIS)	+= libgstfieldanalysis.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FLAC)		+= libgstflac.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FLITE)		+= libgstflite.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FLV)		+= libgstflv.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FLXDEC)		+= libgstflxdec.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FRAGMENTED)	+= libgstfragmented.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FREEVERB)	+= libgstfreeverb.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FREEZE)		+= libgstfreeze.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_FREI0R)		+= libgstfrei0r.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GAUDIEFFECTS)	+= libgstgaudieffects.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GDKPIXBUF)	+= libgstgdkpixbuf.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GDP)		+= libgstgdp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GEOMETRICTRANSFORM)	+= libgstgeometrictransform.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GIO)		+= libgstgio.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GMEDEC)		+= libgstgme.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GOOM)		+= libgstgoom.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GOOM2K1)	+= libgstgoom2k1.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GSETTINGS)	+= libgstgsettingselements.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GSM)		+= libgstgsm.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GSTRTPMANAGER)	+= libgstrtpmanager.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_GSTSIREN)	+= libgstsiren.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_H264PARSE)	+= libgsth264parse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_HDVPARSE)	+= libgsthdvparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ICYDEMUX)	+= libgsticydemux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ID3DEMUX)	+= libgstid3demux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ID3TAG)		+= libgstid3tag.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_IMAGEFREEZE)	+= libgstimagefreeze.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_INTER)		+= libgstinter.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_INTERLACE)	+= libgstinterlace.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_INTERLEAVE)	+= libgstinterleave.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ISOMP4)		+= libgstisomp4.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_IVFPARSE)	+= libgstivfparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_JACK)		+= libgstjack.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_JP2K)		+= libgstjp2k.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_JP2KDECIMATOR)	+= libgstjp2kdecimator.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_JPEG)		+= libgstjpeg.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_JPEGFORMAT)	+= libgstjpegformat.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_KATE)		+= libgstkate.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LADSPA)		+= libgstladspa.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LEGACYRESAMPLE)	+= libgstlegacyresample.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LEVEL)		+= libgstlevel.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LIBVISUAL)	+= libgstlibvisual.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LINSYS)		+= libgstlinsys.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LIVEADDER)	+= libgstliveadder.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_LV2)		+= libgstlv2.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MATROSKA)	+= libgstmatroska.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MIMIC)		+= libgstmimic.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MMS)		+= libgstmms.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MODPLUG)	+= libgstmodplug.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MONOSCOPE)	+= libgstmonoscope.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MPEGDEMUX2)	+= libgstmpegdemux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MPEGPSMUX)	+= libgstmpegpsmux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MPEGTSDEMUX)	+= libgstmpegtsdemux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MPEGTSMUX)	+= libgstmpegtsmux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MPEGVIDEOPARSE)	+= libgstmpegvideoparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MULAW)		+= libgstmulaw.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MULTIFILE)	+= libgstmultifile.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MULTIPART)	+= libgstmultipart.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MUSEPACK)	+= libgstmusepack.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MVE)		+= libgstmve.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_MXF)		+= libgstmxf.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_NAVIGATIONTEST)	+= libgstnavigationtest.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_NSF)		+= libgstnsf.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_NUVDEMUX)	+= libgstnuvdemux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_OFA)		+= libgstofa.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_OGG)		+= libgstogg.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_OPENAL)		+= libgstopenal.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_OPUS)		+= libgstopus.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_OSS4)		+= libgstoss4audio.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_OSSAUDIO)	+= libgstossaudio.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_PATCHDETECT)	+= libgstpatchdetect.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_PCAPPARSE)	+= libgstpcapparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_PLAYBACK)	+= libgstplaybin.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_PNG)		+= libgstpng.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_PNM)		+= libgstpnm.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RAWPARSE)	+= libgstrawparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_REMOVESILENCE)	+= libgstremovesilence.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_REPLAYGAIN)	+= libgstreplaygain.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RESINDVD)	+= libresindvd.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RFBSRC)		+= libgstrfbsrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RSVG)		+= libgstrsvg.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RTMP)		+= libgstrtmp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RTP)		+= libgstrtp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RTPMUX)		+= libgstrtpmux.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RTPVP8)		+= libgstrtpvp8.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_RTSP)		+= libgstrtsp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SCALETEMPO)	+= libgstscaletempoplugin.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SCHRO)		+= libgstschro.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SDI)		+= libgstsdi.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SDP)		+= libgstsdpelem.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SEGMENTCLIP)	+= libgstsegmentclip.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SHAPEWIPE)	+= libgstshapewipe.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SHM)		+= libgstshm.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SHOUT2SEND)	+= libgstshout2.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SMOOTH)		+= libgstsmooth.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SMPTE)		+= libgstsmpte.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SNDFILE)	+= libgstsndfile.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SOUNDTOUCH)	+= libgstsoundtouch.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SOUP)		+= libgstsouphttpsrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SPANDSP)	+= libgstspandsp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SPECTRUM)	+= libgstspectrum.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SPEED)		+= libgstspeed.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SPEEX)		+= libgstspeex.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_STEREO)		+= libgststereo.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SUBENC)		+= libgstsubenc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_SUBPARSE)	+= libgstsubparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_TAGLIB)		+= libgsttaglib.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_TCP)		+= libgsttcp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_TELETEXT)	+= libgstteletextdec.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_THEORA)		+= libgsttheora.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_TTA)		+= libgsttta.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_TYPEFINDFUNCTIONS)	+= libgsttypefindfunctions.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_UDP)		+= libgstudp.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_URIDECODEBIN)	+= libgstdecodebin2.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VCDSRC)		+= libgstvcdsrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEO4LINUX2)	+= libgstvideo4linux2.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOBOX)	+= libgstvideobox.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOCROP)	+= libgstvideocrop.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOFILTER)	+= libgstvideofilter.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOFILTERSBAD)	+= libgstvideofiltersbad.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOMAXRATE)	+= libgstvideomaxrate.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOMEASURE)	+= libgstvideomeasure.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOMIXER)	+= libgstvideomixer.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOPARSERSBAD)	+= libgstvideoparsersbad.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEORATE)	+= libgstvideorate.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOSCALE)	+= libgstvideoscale.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOSIGNAL)	+= libgstvideosignal.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VIDEOTESTSRC)	+= libgstvideotestsrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VMNC)		+= libgstvmnc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VOAACENC)	+= libgstvoaacenc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VOAMRWBENC)	+= libgstvoamrwbenc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VOLUME)		+= libgstvolume.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VORBIS)		+= libgstvorbis.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_VP8)		+= libgstvp8.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_WAVENC)		+= libgstwavenc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_WAVPACK)	+= libgstwavpack.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_WAVPARSE)	+= libgstwavparse.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_WILDMIDI)	+= libgstwildmidi.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_XIMAGESRC)	+= libgstximagesrc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_XVID)		+= libgstxvid.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_Y4MDEC)		+= libgsty4mdec.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_Y4MENC)		+= libgsty4menc.so
PLUGINS_$(CONFIG_USER_GSTREAMER_0_10_PLUGIN_ZBAR)		+= libgstzbar.so

all: build_targets

build/config.status:
	mkdir -p $(BUILD_DIR)
	chmod u+x $(SRC_DIR)/configure
	(cd build; ../$(SRC_DIR)/configure $(CONFIGURE_OPT);)

build_targets: build/config.status
	make -C $(BUILD_DIR)
	mkdir -p $(INSTALL_DIR)
	make -C $(BUILD_DIR) DESTDIR=`pwd`/$(INSTALL_DIR) install

romfs:
	[ -d $(ROMFSDIR)/bin ] || mkdir -p $(ROMFSDIR)/bin
	for i in $(TOOLS_y); do \
		$(ROMFSINST) $(INSTALL_DIR)/bin/$$i /bin/$$i; \
	done

	[ -d $(ROMFSDIR)/usr/lib/gstreamer-0.10 ] || \
		mkdir -p $(ROMFSDIR)/usr/lib/gstreamer-0.10
	(cd $(INSTALL_PLUGINDIR); \
		$(ROMFSINST) /usr/lib/gstreamer-0.10/libgstcoreelements.so; \
		$(ROMFSINST) /usr/lib/gstreamer-0.10/libgstcoreindexers.so;)

	[ -d $(ROMFSDIR)/usr/lib/gstreamer0.10/gstreamer-0.10 ] || \
		mkdir -p $(ROMFSDIR)/usr/lib/gstreamer0.10/gstreamer-0.10
	(cd $(INSTALL_PLUGINSCANNERDIR); \
		$(ROMFSINST) /usr/lib/gstreamer0.10/gstreamer-0.10/gst-plugin-scanner;)

	for i in $(PLUGINS_y); do \
		cp $(CROSS_LIBDIR)/gstreamer-0.10/$$i \
			$(ROMFSDIR)/usr/lib/gstreamer-0.10/$$i ; \
	done

	$(ROMFSINST) /etc

clean:
	-make -C $(BUILD_DIR) clean

distclean: clean
	rm -rf $(BUILD_DIR) $(INSTALL_DIR)
